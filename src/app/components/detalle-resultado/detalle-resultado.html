<app-header></app-header>


<main class="auth-container">

  <div class="auth-card">
    <h3 class="form-title text-center">{{ isEdit ? 'Editar' : 'Crear' }} Resultado</h3>

    <form [formGroup]="detalleForm" (ngSubmit)="guardar()">


      <div class="form-group">
        <label>ID Examen</label>
        <input id="idExamen" type="text" formControlName="idExamen" >
        <div class="error" *ngIf="f['idExamen'].invalid && f['idExamen'].touched">
          ID Examen es obligatorio.
        </div>
      </div>

      <div class="form-group">
        <label>Tipo de Análisis</label>
        <input id="tipoAnalisis" type="text" formControlName="tipoAnalisis" >
        <div class="error" *ngIf="f['tipoAnalisis'].invalid && f['tipoAnalisis'].touched">
          Al menos 4 caracteres.
        </div>
      </div>

      <div class="form-group">
        <label>Laboratorio</label>
        <input id="laboratorio" type="text" formControlName="laboratorio" >
        <div class="error" *ngIf="f['laboratorio'].invalid && f['laboratorio'].touched">
          Al menos 4 caracteres.
        </div>
      </div>

      <div class="form-group">
        <label>Valores del Resultado</label>
        <textarea id="valoresResultado" type="text" formControlName="valoresResultado" ></textarea>
        <div class="error" *ngIf="f['valoresResultado'].invalid && f['valoresResultado'].touched">
          Al menos 4 caracteres.
        </div>
      </div>

      <div class="form-group">
        <label>Observaciones</label>
        <input id="observaciones" type="text" formControlName="observaciones" >
        <div class="error" *ngIf="f['observaciones'].invalid && f['observaciones'].touched">
          Al menos 4 caracteres.
        </div>
      </div>

      <div class="form-group">
        <label>Fecha y Hora</label>
        <input id="fechaResultado" type="datetime" formControlName="fechaResultado">
        <div class="error"
             *ngIf="f['fechaResultado'].errors?.['edadMinima'] && f['fechaResultado'].touched">
          Debes tener al menos 14 años.
        </div>
      </div>

      <div class="form-group">
        <label>Estado</label>
        <select id="estado" class="form-select" formControlName="estado">
            <option value="PENDIENTE">PENDIENTE</option>
            <option value="ENTREGADO">ENTREGADO</option>
            <option value="VALIDADO">VALIDADO</option>
        </select>
        <div class="error" *ngIf="f['estado'].invalid && f['estado'].touched">
          Al menos 4 caracteres.
        </div>
      </div>

      <!-- Botón -->
      <button type="submit" class="auth-btn">Guardar</button>


      <div class="auth-link">
        <a routerLink="/lista-resultado">Cancelar</a>
      </div>

    </form>

  </div>

</main>
